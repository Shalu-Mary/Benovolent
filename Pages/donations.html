<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate - Benevolent Beginnings</title>
    <link rel="stylesheet" href="Styles/donations.css">
    <!-- Add Razorpay JavaScript SDK -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <img src="../Assets/logo-removebg-preview.png" alt="Benevolent Beginnings Logo">
                <h1>Benevolent Beginnings</h1>
            </div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="Stats.html">Stats</a></li>
                <li><a href="chatbot.html">Support Chat</a></li>
                <li><a href="../Login/login.html">Login</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Make a Difference Today</h2>
            <p>Your generosity can transform lives and communities. Every contribution, no matter the size, brings hope to those who need it most.</p>
        </div>
    </section>

    <!-- Donation Section -->
    <main>
        <section id="donation-info">
            <div class="container">
                <h2>Choose Where to Donate</h2>
                <p>Your generous contribution can make a real difference. Select a cause below that resonates with you and help us continue our mission of creating positive change.</p>

                <div class="charity-options">
                    <div class="charity">
                        <img src="../Assets/underprivilageddonation.jpg" alt="Helping Hands">
                        <div class="charity-content">
                            <h3>Helping Hands Trust</h3>
                            <p>Providing essential resources and support to underprivileged communities through immediate aid and long-term development programs.</p>
                            <form class="donation-form" data-charity="Helping Hands Trust">
                                <label for="hh-amount">Select an amount:</label>
                                <div class="amount-options">
                                    <button type="button" class="amount-btn" data-amount="100" data-input="hh-amount">₹100</button>
                                    <button type="button" class="amount-btn" data-amount="200" data-input="hh-amount">₹200</button>
                                    <button type="button" class="amount-btn" data-amount="500" data-input="hh-amount">₹500</button>
                                    <input type="number" id="hh-amount" name="amount" min="1" placeholder="Custom" required>
                                </div>
                                <button type="submit" class="donate-btn">Donate Now</button>
                            </form>
                        </div>
                    </div>

                    <div class="charity">
                        <img src="../Assets/animaldonation.jpeg" alt="Animal Rescue">
                        <div class="charity-content">
                            <h3>Animal Rescue League</h3>
                            <p>Rescuing and rehabilitating abandoned and neglected animals, providing medical care, shelter, and finding loving forever homes.</p>
                            <form class="donation-form" data-charity="Animal Rescue League">
                                <label for="arl-amount">Select an amount:</label>
                                <div class="amount-options">
                                    <button type="button" class="amount-btn" data-amount="100" data-input="arl-amount">₹100</button>
                                    <button type="button" class="amount-btn" data-amount="200" data-input="arl-amount">₹200</button>
                                    <button type="button" class="amount-btn" data-amount="500" data-input="arl-amount">₹500</button>
                                    <input type="number" id="arl-amount" name="amount" min="1" placeholder="Custom" required>
                                </div>
                                <button type="submit" class="donate-btn">Donate Now</button>
                            </form>
                        </div>
                    </div>

                    <div class="charity">
                        <img src="../Assets/educationdonation.jpeg" alt="Education for All">
                        <div class="charity-content">
                            <h3>Education for All</h3>
                            <p>Empowering children through access to quality education, providing school supplies, scholarships, and building learning centers in underserved areas.</p>
                            <form class="donation-form" data-charity="Education for All">
                                <label for="efa-amount">Select an amount:</label>
                                <div class="amount-options">
                                    <button type="button" class="amount-btn" data-amount="100" data-input="efa-amount">₹100</button>
                                    <button type="button" class="amount-btn" data-amount="200" data-input="efa-amount">₹200</button>
                                    <button type="button" class="amount-btn" data-amount="500" data-input="efa-amount">₹500</button>
                                    <input type="number" id="efa-amount" name="amount" min="1" placeholder="Custom" required>
                                </div>
                                <button type="submit" class="donate-btn">Donate Now</button>
                            </form>
                        </div>
                    </div>

                    <div class="charity">
                        <img src="../Assets/disasterreliefdonation.jpg" alt="Disaster Relief">
                        <div class="charity-content">
                            <h3>Disaster Relief Fund</h3>
                            <p>Providing immediate aid and long-term support to communities affected by natural disasters, including food, shelter, medical assistance, and rebuilding efforts.</p>
                            <form class="donation-form" data-charity="Disaster Relief Fund">
                                <label for="dr-amount">Select an amount:</label>
                                <div class="amount-options">
                                    <button type="button" class="amount-btn" data-amount="100" data-input="dr-amount">₹100</button>
                                    <button type="button" class="amount-btn" data-amount="200" data-input="dr-amount">₹200</button>
                                    <button type="button" class="amount-btn" data-amount="500" data-input="dr-amount">₹500</button>
                                    <input type="number" id="dr-amount" name="amount" min="1" placeholder="Custom" required>
                                </div>
                                <button type="submit" class="donate-btn">Donate Now</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq">
            <div class="container">
                <h2>Frequently Asked Questions</h2>

                <div class="faq-item">
                    <h3 class="faq-question">How can I donate?</h3>
                    <div class="faq-answer">
                        <p>You can donate by selecting a charity from the options above and choosing a predefined amount or entering a custom amount. Then, click the "Donate Now" button to proceed to our secure payment processing page where you can complete your donation using Razorpay, our trusted payment partner.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <h3 class="faq-question">What payment methods do you accept?</h3>
                    <div class="faq-answer">
                        <p>Through our payment gateway Razorpay, we accept credit/debit cards, UPI, net banking, and popular wallets. All payments are processed securely to protect your information.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <h3 class="faq-question">Is my donation tax-deductible?</h3>
                    <div class="faq-answer">
                        <p>Yes, all donations made to Benevolent Beginnings are tax-deductible to the extent allowed by law. Upon completing your donation, you will receive a receipt that you can use for tax purposes. For larger donations, we can provide additional documentation if needed.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <h3 class="faq-question">Where does my money go?</h3>
                    <div class="faq-answer">
                        <p>Your donation will go directly to the charity you select. We are committed to transparency and ensure that at least 85% of your contribution is used for program services, with the remaining portion covering essential administrative and fundraising costs. We publish annual reports detailing how funds are used across all our programs.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <h3 class="faq-question">Can I make a recurring donation?</h3>
                    <div class="faq-answer">
                        <p>Yes, you can set up monthly, quarterly, or annual recurring donations. This option will be available during the checkout process after you select your donation amount. Recurring donations help us plan more effectively and sustain our programs long-term.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Benevolent Beginnings - All Rights Reserved.</p>
        <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
        </ul>
    </footer>

    <!-- Donation Modal Popup -->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Complete Your Donation</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="donation-info">
                    <div class="donation-summary">
                        <span>Selected Charity:</span>
                        <span id="selected-charity">Helping Hands Trust</span>
                    </div>
                    <div class="donation-summary">
                        <span>Donation Amount:</span>
                        <span id="donation-amount">₹200.00</span>
                    </div>
                </div>
                
                <form id="donation-form">
                    <div class="form-group">
                        <label for="donor-name" class="required">Name</label>
                        <input type="text" id="donor-name" name="donor-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="donor-email" class="required">Email Address</label>
                        <input type="email" id="donor-email" name="donor-email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="donor-phone" class="required">Phone Number</label>
                        <input type="tel" id="donor-phone" name="donor-phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="donor-type" class="required">Donation Type</label>
                        <select id="donor-type" name="donor-type" required>
                            <option value="">Select donation type</option>
                            <option value="individual">Individual Donation</option>
                            <option value="corporate">Corporate Donation</option>
                        </select>
                    </div>
                    
                    <div id="razorpay-badge" style="text-align: center; margin-top: 20px; margin-bottom: 20px;">
                        <img src="https://razorpay.com/assets/razorpay-glyph.svg" alt="Razorpay" style="height: 30px; margin-right: 10px;">
                        <span style="color: #072654; font-weight: bold;">Secure Payments by Razorpay</span>
                    </div>
                    
                    <button type="submit" class="make-payment-btn">Proceed to Payment</button>
                </form>
                
                <div class="thank-you-message" id="thank-you-message">
                    <h3>Thank You for Your Donation!</h3>
                    <p>Your generosity makes a real difference. We've sent a confirmation to your email with the details of your donation.</p>
                    <p id="payment-id-display" style="font-size: 14px; color: #666; margin-top: 10px;"></p>
                    <button class="back-btn" id="back-to-site">Back to Homepage</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize variables to store donation information
            let currentCharity = '';
            let donationAmount = 0;
            
            // FAQ functionality
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                
                question.addEventListener('click', () => {
                    // Close all other items
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('active')) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    // Toggle the clicked item
                    item.classList.toggle('active');
                });
            });

            // Handle amount button clicks
            const amountButtons = document.querySelectorAll('.amount-btn');
            amountButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    const inputId = this.getAttribute('data-input');
                    const inputField = document.getElementById(inputId);
                    
                    if (inputField) {
                        inputField.value = amount;
                    }
                    
                    // Remove active class from all buttons in this form
                    const allButtonsInForm = this.closest('.amount-options').querySelectorAll('.amount-btn');
                    allButtonsInForm.forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                });
            });

            // Modal functionality
            const modal = document.getElementById("donationModal");
            const closeModal = document.querySelector(".close-modal");
            const donationForm = document.getElementById("donation-form");
            const thankYouMessage = document.getElementById("thank-you-message");
            const backToSiteBtn = document.getElementById("back-to-site");

            // Hide thank you message initially
            if (thankYouMessage) {
                thankYouMessage.style.display = "none";
            }

            // Handle initial donate button clicks
            const donationForms = document.querySelectorAll('.donation-form');
            
            donationForms.forEach(form => {
                form.addEventListener("submit", function(e) {
                    e.preventDefault();
                    
                    // Get charity name
                    currentCharity = this.getAttribute('data-charity');
                    
                    // Get donation amount
                    const amountInput = this.querySelector('input[type="number"]');
                    donationAmount = amountInput.value || "0";
                    
                    if (!donationAmount || donationAmount <= 0) {
                        alert("Please enter a valid donation amount.");
                        return;
                    }
                    
                    // Update modal with details
                    document.getElementById("selected-charity").textContent = currentCharity;
                    document.getElementById("donation-amount").textContent = "₹" + parseFloat(donationAmount).toFixed(2);
                    
                    // Show modal
                    modal.style.display = "block";
                    
                    // Reset form and hide thank you message
                    donationForm.reset();
                    donationForm.style.display = "block";
                    thankYouMessage.style.display = "none";
                });
            });
            
            // Close modal when clicking X
            if (closeModal) {
                closeModal.addEventListener("click", function() {
                    modal.style.display = "none";
                });
            }
            
            // Close modal when clicking outside the modal content
            window.addEventListener("click", function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
            
            // Main donation form submission
            if (donationForm) {
                donationForm.addEventListener("submit", function(e) {
                    e.preventDefault();
                    
                    // Get donor information
                    const donorName = document.getElementById("donor-name").value;
                    const donorEmail = document.getElementById("donor-email").value;
                    const donorPhone = document.getElementById("donor-phone").value;
                    const donorType = document.getElementById("donor-type").value;
                    
                    // Basic validation
                    if (!donorName || !donorEmail || !donorPhone || !donorType) {
                        alert("Please fill in all required fields.");
                        return;
                    }
                    
                    // Direct Razorpay implementation (simplest approach)
                    const options = {
                        key: "rzp_test_W7yno75naR3ZIl", // Replace with your Razorpay Key ID
                        amount: parseFloat(donationAmount) * 100, // Amount in paise
                        currency: "INR",
                        name: "Benevolent Beginnings",
                        description: `Donation to ${currentCharity}`,
                        image: "../Assets/logo-removebg-preview.png",
                        handler: function(response) {
                            // Payment was successful
                            console.log("Payment successful:", response);
                            
                            // Hide form and show thank you message
                            if (donationForm && thankYouMessage) {
                                donationForm.style.display = "none";
                                thankYouMessage.style.display = "block";
                                
                                // Display payment ID if available
                                if (response.razorpay_payment_id) {
                                    document.getElementById("payment-id-display").textContent = 
                                        `Payment ID: ${response.razorpay_payment_id}`;
                                }
                            }
                        },
                        prefill: {
                            name: donorName,
                            email: donorEmail,
                            contact: donorPhone
                        },
                        notes: {
                            charity: currentCharity,
                            donor_type: donorType
                        },
                        theme: {
                            color: "#3d8b40"
                        }
                    };
                    
                    try {
                        const rzp = new Razorpay(options);
                        
                        rzp.on('payment.failed', function(response) {
                            console.error("Payment failed:", response.error);
                            alert("Payment failed. " + response.error.description);
                        });
                        
                        rzp.open();
                    } catch (error) {
                        console.error("Razorpay error:", error);
                        alert("There was an error opening the payment gateway. Please try again.");
                    }
                });
            }
            
            // Back to site button
            if (backToSiteBtn) {
                backToSiteBtn.addEventListener("click", function() {
                    modal.style.display = "none";
                });
            }
        });
    </script>
</body>
</html>